\include{common}

\begin{document}
\begin{varwidth}{\linewidth}

\begin{algorithmic}
\Procedure{Relay}{C}
  \Loop
    \For{$chain \in C$}
      \For{$counterparty \in C, counterparty \ne chain$}
        \State $datagrams \gets$ \Call{pendingDatagrams}{chain, counterparty}
        \For{$datagram \in datagrams$}
          \State \Call{submitDatagram}{counterparty, datagram}
        \EndFor
      \EndFor
    \EndFor
  \EndLoop
\EndProcedure
\end{algorithmic}

\end{varwidth}
\end{document}
